<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.15.2 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html -->

<title>R and Java 10 | Luis Puerto</title>
<meta name="description" content="Update 27th of March 2018 at 17.28 UTC+3: After talk a little bit on the R mail lists [1][2], it’s seems that it’s a know issue and they are on the way to fix this. Till them we have to stick to Java 9.0.4 to work with R.">



<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Luis Puerto">
<meta property="og:title" content="R and Java 10">
<meta property="og:url" content="https://luispuerto.net/blog/2018/03/28/r-and-java-10/">


  <meta property="og:description" content="Update 27th of March 2018 at 17.28 UTC+3: After talk a little bit on the R mail lists [1][2], it’s seems that it’s a know issue and they are on the way to fix this. Till them we have to stick to Java 9.0.4 to work with R.">



  <meta property="og:image" content="https://luispuerto.net/assets/images/blog/2018/Java10RError.jpg">



  <meta name="twitter:site" content="@lpuerto">
  <meta name="twitter:title" content="R and Java 10">
  <meta name="twitter:description" content="Update 27th of March 2018 at 17.28 UTC+3: After talk a little bit on the R mail lists [1][2], it’s seems that it’s a know issue and they are on the way to fix this. Till them we have to stick to Java 9.0.4 to work with R.">
  <meta name="twitter:url" content="https://luispuerto.net/blog/2018/03/28/r-and-java-10/">

  
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://luispuerto.net/assets/images/blog/2018/Java10RError.jpg">
  

  



  <meta property="article:published_time" content="2018-03-28T12:08:05+00:00">





  

  


<link rel="canonical" href="https://luispuerto.net/blog/2018/03/28/r-and-java-10/">





  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "url": "https://luispuerto.net",
      "logo": "https://luispuerto.net/assets/images/pages/header-splash.jpg"
    }
  </script>



  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": "Luis Puerto",
      "url": "https://luispuerto.net",
      "sameAs": ["https://twitter.com/lpuerto","https://www.linkedin.com/in/lpuerto","https://github.com/luispuerto","https://www.flickr.com/photos/lpuerto"]
    }
  </script>



  <meta name="google-site-verification" content="cZLLZlgNzUnRDZVt90lZpruDWIKI7ccL3GmK4E3hXKI" />





<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Luis Puerto Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if IE ]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- Font Mr. Dafoe for Landing Page -->
<link href="https://fonts.googleapis.com/css?family=Mr+Dafoe" rel="stylesheet">

<!-- Mathjax to show equations from Latex code -->
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
});
</script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">Luis Puerto</a>
        <ul class="visible-links">
<li class="masthead__menu-item">
              <a href="/">Home</a>
            </li>
<li class="masthead__menu-item">
              <a href="/aboutme">About Me</a>
            </li>
<li class="masthead__menu-item">
              <a href="/resume">Résumé</a>
            </li>
<li class="masthead__menu-item">
              <a href="/blog">Blog</a>
            </li>
<li class="masthead__menu-item">
              <a href="/archive">Archive</a>
            </li>
<li class="masthead__menu-item">
              <a href="/contact">Contact</a>
            </li>
</ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      
  

















<div class="page__hero--overlay" style="
          background-image:
            url('/assets/images/blog/2018/Java10RError.jpg');
          ">
  
    <div class="wrapper">
      <h1 id="page-title" class="page__title" itemprop="headline">
        
          R and Java 10

        
      </h1>
      
      <!-- 
        <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  4 minute read
</p>
       -->
      
      
    </div>
  
  
</div>





<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      

      
        
        <a href="/aboutme/">
          <img src="/assets/images/pages/20121231-035-ol.jpg" alt="Luis Puerto" itemprop="image">
        </a>
      
    </div>
  

  <div class="author__content">
    
      <a href="/aboutme/"><h3 class="author__name" itemprop="name">Luis Puerto</h3></a>
    
    
      <p class="author__bio" itemprop="description">
        Born in Ponferrada, Spain. A Forest Engineer interested in Science and Technology. Fascinated about almost everything
      </p>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name"><img class="emoji" title=":eu:" alt=":eu:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f1ea-1f1fa.png" height="20" width="20"><img class="emoji" title=":es:" alt=":es:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f1ea-1f1f8.png" height="20" width="20"><img class="emoji" title=":sweden:" alt=":sweden:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f1f8-1f1ea.png" height="20" width="20"><img class="emoji" title=":finland:" alt=":finland:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f1eb-1f1ee.png" height="20" width="20"><img class="emoji" title=":us:" alt=":us:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f1fa-1f1f8.png" height="20" width="20"></span>
        </li>
      

      

      

      
        
          
            <li><a href="/aboutme/" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-user-circle" aria-hidden="true"></i> About me</a></li>
          
        
          
            <li><a href="mailto:luis@luispuerto.net" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-envelope" aria-hidden="true"></i> Email</a></li>
          
        
          
            <li><a href="https://twitter.com/lpuerto" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
          
        
          
            <li><a href="https://www.linkedin.com/in/lpuerto" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> LinkedIn</a></li>
          
        
          
            <li><a href="https://github.com/luispuerto" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
          
        
          
            <li><a href="https://instagram.com/lpuerto" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i> Instagram</a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="R and Java 10">
    <meta itemprop="description" content="Update 27th of March 2018 at 17.28 UTC+3: After talk a little bit on the R mail lists [1][2], it’s seems that it’s a know issue and they are on the way to fix this. Till them we have to stick to Java 9.0.4 to work with R.">
    <meta itemprop="datePublished" content="Wednesday, 28 March 2018 12:08 UTC">
    

    <div class="page__inner-wrap">
      

      
        <p class="page__meta page__reading_time">
          
          
              <strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Posted:</strong> <time datetime="2018-03-28T12:08:05+00:00">Wednesday, 28 March 2018 12:08 UTC</time>
          
          
        
          <strong><i class="far fa-clock" aria-hidden="true"></i></strong> 




  4 minute read

        
        </p>
      

        

      <section class="page__content" itemprop="text">
        
        <div class="post__content">
          <p><strong>Update 27th of March 2018 at 17.28 UTC+3</strong>: After talk a little bit on the R mail lists [<a href="http://r.789695.n4.nabble.com/R-and-Java-10-rJava-not-able-to-build-td4749125.html">1</a>][<a href="http://r-sig-mac.29524.n8.nabble.com/R-SIG-Mac-R-and-Java-10-rJava-not-able-to-build-td136.html">2</a>], it’s seems that it’s a know issue and they are on the way to fix this. Till them we have to stick to Java 9.0.4 to work with R.</p>

<p><strong>Update 4th of April 2018 at 17.55 UTC+3</strong>: The rJava author <a href="http://r-sig-mac.29524.n8.nabble.com/R-SIG-Mac-R-and-Java-10-rJava-not-able-to-build-td136.html">just fix this in an update</a> that haven’t been fed to CRAN yet, bu you can install from source from his repo on rforge.net using the following command:</p>

<div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
</pre></td>
<td class="rouge-code"><pre><span class="n">install.packages</span><span class="p">(</span><span class="s1">'rJava'</span><span class="p">,</span><span class="w"> </span><span class="n">repos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'http://rforge.net'</span><span class="p">)</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></pre></div></div>

<hr>

<p>Java 10 was just released a week ago on 20 March 2018 and I just updated to it using <a href="https://caskroom.github.io">Homebrew Cask</a>. However, I haven’t been able to make it work with R. As you know, I have a complete install of <a href="/blog/2018/01/12/install-r-100-homebrew-edition-with-openblas-openmp-my-version/">R with Homebrew</a>, which I’m very happy with since it’s it easier to manage —in my opinion— and it’s faster. I would say also that R and Java <a href="https://stackoverflow.com/questions/tagged/java+r">are infamous</a> for their bad relations and it’s not the first time that me and a whole bunch of people are driven nuts for not be able to configure it appropriately, even more in macOS.</p>

<p>In the moment of writing this post I’m on R 3.4.4 on macOS 10.13.3 with Java 10 and 9.0.4 installed.</p>

<p>First, I have to tell that I’m puzzle by something that it’s really intrigued, <code class="highlighter-rouge">R CMD javarenconf</code> and <code class="highlighter-rouge">sudo R CMD javarendonf</code> doesn’t yield the same result:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre></td>
<td class="rouge-code"><pre><span class="nv">$ </span>R CMD javareconf
Java interpreter : /Library/Java/JavaVirtualMachines/jdk-10.jdk/Contents/Home/bin/java
Java version     : 10
Java home path   : /Library/Java/JavaVirtualMachines/jdk-10.jdk/Contents/Home
Java compiler    : /Library/Java/JavaVirtualMachines/jdk-10.jdk/Contents/Home/bin/javac
Java headers gen.: /usr/bin/javah
Java archive tool: /Library/Java/JavaVirtualMachines/jdk-10.jdk/Contents/Home/bin/jar
Non-system Java on macOS

trying to compile and <span class="nb">link </span>a JNI program
detected JNI cpp flags    : <span class="nt">-I</span><span class="k">$(</span>JAVA_HOME<span class="k">)</span>/include <span class="nt">-I</span><span class="k">$(</span>JAVA_HOME<span class="k">)</span>/include/darwin
detected JNI linker flags : <span class="nt">-L</span><span class="k">$(</span>JAVA_HOME<span class="k">)</span>/lib/server <span class="nt">-ljvm</span>
/usr/local/opt/llvm/bin/clang  <span class="nt">-I</span>/usr/local/Cellar/r/3.4.4/lib/R/include <span class="nt">-DNDEBUG</span> <span class="nt">-I</span>/Library/Java/JavaVirtualMachines/jdk-10.jdk/Contents/Home/include <span class="nt">-I</span>/Library/Java/JavaVirtualMachines/jdk-10.jdk/Contents/Home/include/darwin  <span class="nt">-I</span>/usr/local/opt/gettext/include <span class="nt">-I</span>/usr/local/opt/llvm/include   <span class="nt">-fPIC</span>  <span class="nt">-g</span> <span class="nt">-O3</span> <span class="nt">-Wall</span> <span class="nt">-pedantic</span> <span class="nt">-std</span><span class="o">=</span>gnu99 <span class="nt">-mtune</span><span class="o">=</span>native <span class="nt">-pipe</span> <span class="nt">-c</span> conftest.c <span class="nt">-o</span> conftest.o
/usr/local/opt/llvm/bin/clang++ <span class="nt">-dynamiclib</span> <span class="nt">-Wl</span>,-headerpad_max_install_names <span class="nt">-undefined</span> dynamic_lookup <span class="nt">-single_module</span> <span class="nt">-multiply_defined</span> suppress <span class="nt">-L</span>/usr/local/opt/gettext/lib <span class="nt">-L</span>/usr/local/opt/llvm/lib <span class="nt">-Wl</span>,-rpath,/usr/local/opt/llvm/lib <span class="nt">-L</span>/usr/local/Cellar/r/3.4.4/lib/R/lib <span class="nt">-L</span>/usr/local/opt/gettext/lib <span class="nt">-L</span>/usr/local/opt/llvm/lib <span class="nt">-Wl</span>,-rpath,/usr/local/opt/llvm/lib <span class="nt">-o</span> conftest.so conftest.o <span class="nt">-L</span>/Library/Java/JavaVirtualMachines/jdk-10.jdk/Contents/Home/lib/server <span class="nt">-ljvm</span> <span class="nt">-L</span>/usr/local/Cellar/r/3.4.4/lib/R/lib <span class="nt">-lR</span> <span class="nt">-lintl</span> <span class="nt">-Wl</span>,-framework <span class="nt">-Wl</span>,CoreFoundation


JAVA_HOME        : /Library/Java/JavaVirtualMachines/jdk-10.jdk/Contents/Home
Java library path: <span class="k">$(</span>JAVA_HOME<span class="k">)</span>/lib/server
JNI cpp flags    : <span class="nt">-I</span><span class="k">$(</span>JAVA_HOME<span class="k">)</span>/include <span class="nt">-I</span><span class="k">$(</span>JAVA_HOME<span class="k">)</span>/include/darwin
JNI linker flags : <span class="nt">-L</span><span class="k">$(</span>JAVA_HOME<span class="k">)</span>/lib/server <span class="nt">-ljvm</span>
Updating Java configuration <span class="k">in</span> /usr/local/Cellar/r/3.4.4/lib/R
override rw-r--r--  root/admin <span class="k">for</span> /usr/local/Cellar/r/3.4.4/lib/R/etc/Makeconf? <span class="o">(</span>y/n <span class="o">[</span>n]<span class="o">)</span> y
override rw-r--r--  root/admin <span class="k">for</span> /usr/local/Cellar/r/3.4.4/lib/R/etc/ldpaths? <span class="o">(</span>y/n <span class="o">[</span>n]<span class="o">)</span> y
Done.
</pre></td>
</tr></tbody></table></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre></td>
<td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">sudo </span>R CMD javareconf
Java interpreter : /Library/Java/JavaVirtualMachines/jdk-9.0.4.jdk/Contents/Home/bin/java
Java version     : 9.0.4
Java home path   : /Library/Java/JavaVirtualMachines/jdk-9.0.4.jdk/Contents/Home
Java compiler    : /Library/Java/JavaVirtualMachines/jdk-9.0.4.jdk/Contents/Home/bin/javac
Java headers gen.: /Library/Java/JavaVirtualMachines/jdk-9.0.4.jdk/Contents/Home/bin/javah
Java archive tool: /Library/Java/JavaVirtualMachines/jdk-9.0.4.jdk/Contents/Home/bin/jar
Non-system Java on macOS

trying to compile and <span class="nb">link </span>a JNI program
detected JNI cpp flags    : <span class="nt">-I</span><span class="k">$(</span>JAVA_HOME<span class="k">)</span>/include <span class="nt">-I</span><span class="k">$(</span>JAVA_HOME<span class="k">)</span>/include/darwin
detected JNI linker flags : <span class="nt">-L</span><span class="k">$(</span>JAVA_HOME<span class="k">)</span>/lib/server <span class="nt">-ljvm</span>
/usr/local/opt/llvm/bin/clang  <span class="nt">-I</span>/usr/local/Cellar/r/3.4.4/lib/R/include <span class="nt">-DNDEBUG</span> <span class="nt">-I</span>/Library/Java/JavaVirtualMachines/jdk-9.0.4.jdk/Contents/Home/include <span class="nt">-I</span>/Library/Java/JavaVirtualMachines/jdk-9.0.4.jdk/Contents/Home/include/darwin  <span class="nt">-I</span>/usr/local/opt/gettext/include <span class="nt">-I</span>/usr/local/opt/llvm/include   <span class="nt">-fPIC</span>  <span class="nt">-g</span> <span class="nt">-O3</span> <span class="nt">-Wall</span> <span class="nt">-pedantic</span> <span class="nt">-std</span><span class="o">=</span>gnu99 <span class="nt">-mtune</span><span class="o">=</span>native <span class="nt">-pipe</span> <span class="nt">-c</span> conftest.c <span class="nt">-o</span> conftest.o
/usr/local/opt/llvm/bin/clang++ <span class="nt">-dynamiclib</span> <span class="nt">-Wl</span>,-headerpad_max_install_names <span class="nt">-undefined</span> dynamic_lookup <span class="nt">-single_module</span> <span class="nt">-multiply_defined</span> suppress <span class="nt">-L</span>/usr/local/opt/gettext/lib <span class="nt">-L</span>/usr/local/opt/llvm/lib <span class="nt">-Wl</span>,-rpath,/usr/local/opt/llvm/lib <span class="nt">-L</span>/usr/local/Cellar/r/3.4.4/lib/R/lib <span class="nt">-L</span>/usr/local/opt/gettext/lib <span class="nt">-L</span>/usr/local/opt/llvm/lib <span class="nt">-Wl</span>,-rpath,/usr/local/opt/llvm/lib <span class="nt">-o</span> conftest.so conftest.o <span class="nt">-L</span>/Library/Java/JavaVirtualMachines/jdk-9.0.4.jdk/Contents/Home/lib/server <span class="nt">-ljvm</span> <span class="nt">-L</span>/usr/local/Cellar/r/3.4.4/lib/R/lib <span class="nt">-lR</span> <span class="nt">-lintl</span> <span class="nt">-Wl</span>,-framework <span class="nt">-Wl</span>,CoreFoundation


JAVA_HOME        : /Library/Java/JavaVirtualMachines/jdk-9.0.4.jdk/Contents/Home
Java library path: <span class="k">$(</span>JAVA_HOME<span class="k">)</span>/lib/server
JNI cpp flags    : <span class="nt">-I</span><span class="k">$(</span>JAVA_HOME<span class="k">)</span>/include <span class="nt">-I</span><span class="k">$(</span>JAVA_HOME<span class="k">)</span>/include/darwin
JNI linker flags : <span class="nt">-L</span><span class="k">$(</span>JAVA_HOME<span class="k">)</span>/lib/server <span class="nt">-ljvm</span>
Updating Java configuration <span class="k">in</span> /usr/local/Cellar/r/3.4.4/lib/R
Done.
</pre></td>
</tr></tbody></table></code></pre></div></div>

<p>I really don’t understand why… with root privileges it uses Java 9.0.4 and without it uses Java 10 and it’s not only my computer but all the rest of the Mac computers I have around, one of it with El Capitan instead of High Sierra. If you know why is like this please tell me.</p>

<p>This problem has the consequence that if I choose Java 10 —or configure R with Java without root privileges— R and Java doesn’t behave properly. In other words, I’m not able to build rJava properly.</p>

<div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td>
<td class="rouge-code"><pre><span class="n">warning</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="n">options</span><span class="p">]</span><span class="w"> </span><span class="n">bootstrap</span><span class="w"> </span><span class="n">class</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">conjunction</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="o">-</span><span class="n">source</span><span class="w"> </span><span class="m">6</span><span class="w">
</span><span class="n">warning</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="n">options</span><span class="p">]</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="m">6</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">obsolete</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">removed</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">future</span><span class="w"> </span><span class="n">release</span><span class="w">
</span><span class="n">warning</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="n">options</span><span class="p">]</span><span class="w"> </span><span class="n">target</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="m">1.6</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">obsolete</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">removed</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">future</span><span class="w"> </span><span class="n">release</span><span class="w">
</span><span class="n">warning</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="n">options</span><span class="p">]</span><span class="w"> </span><span class="n">To</span><span class="w"> </span><span class="n">suppress</span><span class="w"> </span><span class="n">warnings</span><span class="w"> </span><span class="n">about</span><span class="w"> </span><span class="n">obsolete</span><span class="w"> </span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="n">use</span><span class="w"> </span><span class="o">-</span><span class="n">Xlint</span><span class="o">:-</span><span class="n">options.</span><span class="w">
</span><span class="n">Note</span><span class="o">:</span><span class="w"> </span><span class="n">Some</span><span class="w"> </span><span class="n">input</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">use</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">override</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">deprecated</span><span class="w"> </span><span class="n">API.</span><span class="w">
</span><span class="n">Note</span><span class="o">:</span><span class="w"> </span><span class="n">Recompile</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="o">-</span><span class="n">Xlint</span><span class="o">:</span><span class="n">deprecation</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">details.</span><span class="w">
</span><span class="n">Note</span><span class="o">:</span><span class="w"> </span><span class="n">Some</span><span class="w"> </span><span class="n">input</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">use</span><span class="w"> </span><span class="n">unchecked</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">unsafe</span><span class="w"> </span><span class="n">operations.</span><span class="w">
</span><span class="n">Note</span><span class="o">:</span><span class="w"> </span><span class="n">Recompile</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="o">-</span><span class="n">Xlint</span><span class="o">:</span><span class="n">unchecked</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">details.</span><span class="w">
</span><span class="m">4</span><span class="w"> </span><span class="n">warnings</span><span class="w">
</span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">javah</span><span class="w"> </span><span class="o">-</span><span class="n">d</span><span class="w"> </span><span class="n">.</span><span class="w"> </span><span class="o">-</span><span class="n">classpath</span><span class="w"> </span><span class="n">.</span><span class="w"> </span><span class="n">org.rosuda.JRI.Rengine</span><span class="w">
</span><span class="n">Unable</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">locate</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">executable</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="s2">"/Library/Java/JavaVirtualMachines/jdk-10.jdk/Contents/Home/bin/javah"</span><span class="w"> </span><span class="p">(</span><span class="m">-1</span><span class="p">)</span><span class="w">
</span><span class="n">make</span><span class="p">[</span><span class="m">2</span><span class="p">]</span><span class="o">:</span><span class="w"> </span><span class="o">***</span><span class="w"> </span><span class="p">[</span><span class="n">org_rosuda_JRI_Rengine.h</span><span class="p">]</span><span class="w"> </span><span class="n">Error</span><span class="w"> </span><span class="m">2</span><span class="w">
</span><span class="n">make</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">:</span><span class="w"> </span><span class="o">***</span><span class="w"> </span><span class="p">[</span><span class="n">src</span><span class="o">/</span><span class="n">JRI.jar</span><span class="p">]</span><span class="w"> </span><span class="n">Error</span><span class="w"> </span><span class="m">2</span><span class="w">
</span><span class="n">make</span><span class="o">:</span><span class="w"> </span><span class="o">***</span><span class="w"> </span><span class="p">[</span><span class="n">jri</span><span class="p">]</span><span class="w"> </span><span class="n">Error</span><span class="w"> </span><span class="m">2</span><span class="w">
</span><span class="n">ERROR</span><span class="o">:</span><span class="w"> </span><span class="n">compilation</span><span class="w"> </span><span class="n">failed</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="err">‘</span><span class="n">rJava</span><span class="err">’</span><span class="w">
</span><span class="o">*</span><span class="w"> </span><span class="n">removing</span><span class="w"> </span><span class="err">‘</span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">lpuerto</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">R</span><span class="o">/</span><span class="m">3</span><span class="n">.x</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">rJava</span><span class="err">’</span><span class="w">
</span><span class="o">*</span><span class="w"> </span><span class="n">restoring</span><span class="w"> </span><span class="n">previous</span><span class="w"> </span><span class="err">‘</span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">lpuerto</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">R</span><span class="o">/</span><span class="m">3</span><span class="n">.x</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">rJava</span><span class="err">’</span><span class="w">

</span><span class="n">The</span><span class="w"> </span><span class="n">downloaded</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">packages</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="k">in</span><span class="w">
    </span><span class="err">‘</span><span class="o">/</span><span class="n">private</span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">folders</span><span class="o">/</span><span class="n">wf</span><span class="o">/</span><span class="m">41</span><span class="n">gjf2mx7m7fmvfd8dr22_5h0000gn</span><span class="o">/</span><span class="nb">T</span><span class="o">/</span><span class="n">RtmpT2kJMY</span><span class="o">/</span><span class="n">downloaded_packages</span><span class="err">’</span><span class="w">
</span><span class="n">Warning</span><span class="w"> </span><span class="n">message</span><span class="o">:</span><span class="w">
</span><span class="n">In</span><span class="w"> </span><span class="n">install.packages</span><span class="p">(</span><span class="s2">"rJava"</span><span class="p">,</span><span class="w"> </span><span class="n">repos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"cloud.r-project.org"</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w">
  </span><span class="n">installation</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="err">‘</span><span class="n">rJava</span><span class="err">’</span><span class="w"> </span><span class="n">had</span><span class="w"> </span><span class="n">non</span><span class="o">-</span><span class="n">zero</span><span class="w"> </span><span class="n">exit</span><span class="w"> </span><span class="n">status</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></pre></div></div>

<p>If we look closer to the error we can see that the source of the problem are, most probably, the highlighted lines —10 and 11— which mainly say <code class="highlighter-rouge">javah</code> can’t be found. I checked in <code class="highlighter-rouge">/Library/Java/JavaVirtualMachines/jdk-10.jdk/Contents/Home/bin/</code> and it’s true that there isn’t a <code class="highlighter-rouge">javah</code> there. However, if I go the the <a href="http://www.oracle.com/technetwork/java/javase/10-relnote-issues-4108729.html">Java 10 release notes</a> they mention:</p>

<blockquote>
  <p>tools/javah<br>
<strong>➜ <a href="http://www.oracle.com/technetwork/java/javase/10-relnote-issues-4108729.html#JDK-8182758">JEP 313 Remove the Native-Header Generation Tool (javah)</a></strong><br>
As previously announced, the native-header tool, <code class="highlighter-rouge">javah</code>, has been removed.Native headers can now be generated by using the Java compiler, <code class="highlighter-rouge">javac</code>, with the <code class="highlighter-rouge">-h</code> option.</p>
</blockquote>

<blockquote class="text-right">
  <p>See <a href="http://bugs.java.com/view_bug.do?bug_id=JDK-8182758">JDK-8182758</a></p>
</blockquote>

<p>In other words, <code class="highlighter-rouge">javah</code> isn’t missing, they removed it on purpose. They stated there a way to create headers with Java, <em>using the Java compiler, <code class="highlighter-rouge">javac</code>, with the <code class="highlighter-rouge">-h</code> option</em>.</p>

<p>I’ve tried to to parse the this when running <code class="highlighter-rouge">R CMD javareconf</code> as:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td>
<td class="rouge-code"><pre><span class="nv">$ </span>R CMD javareconf <span class="nv">JAVAH</span><span class="o">=</span><span class="s2">"/Library/Java/JavaVirtualMachines/jdk-10.jdk/Contents/Home/bin/javac -h"</span>
/usr/local/Cellar/r/3.4.4/lib/R/bin/javareconf: line 66: <span class="nt">-h</span>: <span class="nb">command </span>not found
Java interpreter : /Library/Java/JavaVirtualMachines/jdk-10.jdk/Contents/Home/bin/java
Java version     : 10
Java home path   : /Library/Java/JavaVirtualMachines/jdk-10.jdk/Contents/Home
Java compiler    : /Library/Java/JavaVirtualMachines/jdk-10.jdk/Contents/Home/bin/javac
Java headers gen.: /usr/bin/javah
Java archive tool: /Library/Java/JavaVirtualMachines/jdk-10.jdk/Contents/Home/bin/jar
Non-system Java on macOS

trying to compile and <span class="nb">link </span>a JNI program
detected JNI cpp flags    : <span class="nt">-I</span><span class="k">$(</span>JAVA_HOME<span class="k">)</span>/include <span class="nt">-I</span><span class="k">$(</span>JAVA_HOME<span class="k">)</span>/include/darwin
detected JNI linker flags : <span class="nt">-L</span><span class="k">$(</span>JAVA_HOME<span class="k">)</span>/lib/server <span class="nt">-ljvm</span>
/usr/local/opt/llvm/bin/clang  <span class="nt">-I</span>/usr/local/Cellar/r/3.4.4/lib/R/include <span class="nt">-DNDEBUG</span> <span class="nt">-I</span>/Library/Java/JavaVirtualMachines/jdk-10.jdk/Contents/Home/include <span class="nt">-I</span>/Library/Java/JavaVirtualMachines/jdk-10.jdk/Contents/Home/include/darwin  <span class="nt">-I</span>/usr/local/opt/gettext/include <span class="nt">-I</span>/usr/local/opt/llvm/include   <span class="nt">-fPIC</span>  <span class="nt">-g</span> <span class="nt">-O3</span> <span class="nt">-Wall</span> <span class="nt">-pedantic</span> <span class="nt">-std</span><span class="o">=</span>gnu99 <span class="nt">-mtune</span><span class="o">=</span>native <span class="nt">-pipe</span> <span class="nt">-c</span> conftest.c <span class="nt">-o</span> conftest.o
/usr/local/opt/llvm/bin/clang++ <span class="nt">-dynamiclib</span> <span class="nt">-Wl</span>,-headerpad_max_install_names <span class="nt">-undefined</span> dynamic_lookup <span class="nt">-single_module</span> <span class="nt">-multiply_defined</span> suppress <span class="nt">-L</span>/usr/local/opt/gettext/lib <span class="nt">-L</span>/usr/local/opt/llvm/lib <span class="nt">-Wl</span>,-rpath,/usr/local/opt/llvm/lib <span class="nt">-L</span>/usr/local/Cellar/r/3.4.4/lib/R/lib <span class="nt">-L</span>/usr/local/opt/gettext/lib <span class="nt">-L</span>/usr/local/opt/llvm/lib <span class="nt">-Wl</span>,-rpath,/usr/local/opt/llvm/lib <span class="nt">-o</span> conftest.so conftest.o <span class="nt">-L</span>/Library/Java/JavaVirtualMachines/jdk-10.jdk/Contents/Home/lib/server <span class="nt">-ljvm</span> <span class="nt">-L</span>/usr/local/Cellar/r/3.4.4/lib/R/lib <span class="nt">-lR</span> <span class="nt">-lintl</span> <span class="nt">-Wl</span>,-framework <span class="nt">-Wl</span>,CoreFoundation


JAVA_HOME        : /Library/Java/JavaVirtualMachines/jdk-10.jdk/Contents/Home
Java library path: <span class="k">$(</span>JAVA_HOME<span class="k">)</span>/lib/server
JNI cpp flags    : <span class="nt">-I</span><span class="k">$(</span>JAVA_HOME<span class="k">)</span>/include <span class="nt">-I</span><span class="k">$(</span>JAVA_HOME<span class="k">)</span>/include/darwin
JNI linker flags : <span class="nt">-L</span><span class="k">$(</span>JAVA_HOME<span class="k">)</span>/lib/server <span class="nt">-ljvm</span>
Updating Java configuration <span class="k">in</span> /usr/local/Cellar/r/3.4.4/lib/R
Done.
</pre></td>
</tr></tbody></table></code></pre></div></div>

<p>But I haven’t succeeded since it’s using the <code class="highlighter-rouge">/usr/bin/javah</code> as the header generator, resulting again as an error when building rJava. Perhaps I’m not doing it right or it’s something more I should do.</p>

<p>If you have any idea, you are more than welcomed. I’ve opened a question in <a href="https://stackoverflow.com/questions/49519007/sudo-r-cmd-javareconf-and-r-cmd-javareconf-produce-different-output-with-java-10">stackoverflow</a> and a <a href="https://github.com/s-u/rJava/issues/137">issue</a> in rJava.</p>

        </div>
        
      </section>

      <footer class="page__meta page__meta-footer">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/archive/tags/config" class="page__taxonomy-item" rel="tag">config</a><span class="sep">, </span>
    
      
      
      <a href="/archive/tags/error" class="page__taxonomy-item" rel="tag">error</a><span class="sep">, </span>
    
      
      
      <a href="/archive/tags/homebrew" class="page__taxonomy-item" rel="tag">homebrew</a><span class="sep">, </span>
    
      
      
      <a href="/archive/tags/java" class="page__taxonomy-item" rel="tag">java</a><span class="sep">, </span>
    
      
      
      <a href="/archive/tags/rstats" class="page__taxonomy-item" rel="tag">RStats</a>
    
    </span>
  </p>




  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/archive/categories/rstats" class="page__taxonomy-item" rel="tag">RStats</a><span class="sep">, </span>
    
      
      
      <a href="/archive/categories/technology" class="page__taxonomy-item" rel="tag">Technology</a>
    
    </span>
  </p>


        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Posted:</strong> <time datetime="2018-03-28T12:08:05+00:00">Wednesday, 28 March 2018 12:08 UTC</time></p>
        
      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?via=lpuerto&amp;text=R+and+Java+10%20https%3A%2F%2Fluispuerto.net%2Fblog%2F2018%2F03%2F28%2Fr-and-java-10%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fluispuerto.net%2Fblog%2F2018%2F03%2F28%2Fr-and-java-10%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>

  <a href="https://www.reddit.com/submit?url=https%3A%2F%2Fluispuerto.net%2Fblog%2F2018%2F03%2F28%2Fr-and-java-10%2F&amp;title=R%20and%20Java%2010" class="btn btn--reddit" title="Share on Reddit"><i class="fab fa-fw fa-reddit" aria-hidden="true"></i><span> Reddit</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fluispuerto.net%2Fblog%2F2018%2F03%2F28%2Fr-and-java-10%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

</section>


      
  <nav class="pagination">
    
      <a href="/blog/2018/03/22/updating-homebrew-r-and-python-pip-packages-ruby-gems-macos/" class="pagination--pager" title="Updating Homebrew, R and Python pip packages + Ruby Gems + macOS
">Previous</a>
    
    
      <a href="/blog/2018/04/13/mbp-wakes-up-from-sleep-to-back-screen/" class="pagination--pager" title="MBP wakes up from sleep to back screen
">Next</a>
    
  </nav>

    </div>

    
      <div class="page__comments">
  
  
      <h4 class="page__comments-title">Leave a comment</h4>
      <section id="disqus_thread"></section>
    
</div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You may also enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
      <div class="archive__item-teaser">
          
            <a href="/blog/2019/02/21/no-message-no-connection-in-linkedin/" rel="permalink">
              <img src="/assets/images/blog/2019/linkedin-logo-header.png" alt="">
            </a>
          
      </div>

    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/blog/2019/02/21/no-message-no-connection-in-linkedin/" rel="permalink">No message, no connection in LinkedIn
</a>
      
    </h2>
    
    
      <p class="page__meta">
        
            <i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> <time datetime="2018-03-28T12:08:05+00:00">Thursday, 21 February 2019 21:25 UTC</time>
        
        
          <i class="far fa-clock" aria-hidden="true"></i> 




  4 minute read

        
      </p>
    
    <p class="archive__item-excerpt" itemprop="description">I think this is something that almost anyone with a LinkedIn account has suffered or happened to them… an invitation to connect that comes out of the blue from someone you don’t know. No message, or just the standard message, no explanation, nothing… just an invitation in your LinkedIn inbox from someone, usually with a happy face —maybe a fake ...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
      <div class="archive__item-teaser">
          
            <a href="/blog/2019/02/10/discovering-hypothesis/" rel="permalink">
              <img src="/assets/images/blog/2019/HypothesisBannerGoogleForms.png" alt="">
            </a>
          
      </div>

    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/blog/2019/02/10/discovering-hypothesis/" rel="permalink">Discovering Hypothes.is
</a>
      
    </h2>
    
    
      <p class="page__meta">
        
            <i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> <time datetime="2018-03-28T12:08:05+00:00">Sunday, 10 February 2019 13:15 UTC</time>
        
        
          <i class="far fa-clock" aria-hidden="true"></i> 




  2 minute read

        
      </p>
    
    <p class="archive__item-excerpt" itemprop="description">I just discovered Hypothes.is which is a service to annotate and highlight articles, posts, pdfs or whatever text you want and find all over the web and in any site. In their own words:

</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
      <div class="archive__item-teaser">
          
            <a href="/blog/2019/02/03/what-Ive-been-doing-these-last-years/" rel="permalink">
              <img src="/assets/images/blog/2018/existential-nihilism-header.jpeg" alt="">
            </a>
          
      </div>

    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/blog/2019/02/03/what-Ive-been-doing-these-last-years/" rel="permalink">What have I been doing these last years?
</a>
      
    </h2>
    
    
      <p class="page__meta">
        
            <i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> <time datetime="2018-03-28T12:08:05+00:00">Sunday, 03 February 2019 19:30 UTC</time>
        
        
          <i class="far fa-clock" aria-hidden="true"></i> 




  19 minute read

        
      </p>
    
    <p class="archive__item-excerpt" itemprop="description">Since some people has asked me this once in a while, I think it’s going to be a good idea to write a small0 post about what I’ve been doing these last years since I left Spain. I think I’m going to give it the shape of an informal resume / curriculum where I’m going to talk, superficially, about each of the things I’ve been doing.
</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap">
<div class="search-searchbar"></div>
    <div class="search-hits"></div>
</div>

      </div>
    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->
<!-- Font Academicons -->
<link rel="stylesheet" href="https://cdn.rawgit.com/jpswalsh/academicons/master/css/academicons.min.css">
<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
          <li><a href="https://twitter.com/lpuerto" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://www.linkedin.com/in/lpuerto" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> LinkedIn</a></li>
        
      
        
          <li><a href="https://github.com/luispuerto" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
      
        
      
        
      
    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">© 2019 Luis Puerto |
  
  <a href="https://github.com/luispuerto/luispuerto.net"><i class="fas fa-code" aria-hidden="true"></i> Source Code</a> | 
  
Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.
</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.7.1/js/all.js" integrity="sha384-eVEQC9zshBn0rFj4+TU78eNA19HMNigMviK/PU/FFjLXqa/GKPgX58rvt5Z8PLs7" crossorigin="anonymous"></script>



<!-- Including InstantSearch.js library and styling -->
<script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.3.3/dist/instantsearch.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.3.3/dist/instantsearch.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.3.3/dist/instantsearch-theme-algolia.min.css">

<script>
// Instanciating InstantSearch.js with Algolia credentials
const search = instantsearch({
  appId: 'NSAWFR2G1K',
  apiKey: 'b63bbd39b0bf76207cf9bebdb9c2b7dd',
  indexName: 'luispuerto-net',
  searchParameters: {
    restrictSearchableAttributes: [
      'title',
      'content'
    ]
  }
});

const hitTemplate = function(hit) {
  const url = hit.url;
  const title = hit._highlightResult.title.value;
  const content = hit._highlightResult.html.value;

  return `
    <div class="list__item">
      <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
        <h2 class="archive__item-title" itemprop="headline"><a href="${url}">${title}</a></h2>
        <div class="archive__item-excerpt" itemprop="description">${content}</div>
      </article>
    </div>
  `;
}

// Adding searchbar and results widgets
search.addWidget(
  instantsearch.widgets.searchBox({
    container: '.search-searchbar',
    poweredBy: true,
    placeholder: 'Enter your search term...'
  })
);
search.addWidget(
  instantsearch.widgets.hits({
    container: '.search-hits',
    templates: {
      item: hitTemplate
    }
  })
);

// Starting the search
search.start();
</script>






  <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-1931812-1']);
  
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>





    
  <script>
    var disqus_config = function () {
      this.page.url = "https://luispuerto.net/blog/2018/03/28/r-and-java-10/";  // Replace PAGE_URL with your page's canonical URL variable
      this.page.identifier = "/blog/2018/03/28/r-and-java-10"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    (function() { // DON'T EDIT BELOW THIS LINE
      var d = document, s = d.createElement('script');
      s.src = 'https://luispuerto-net.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>


  



    <script>
//open external links in a new window
function external_new_window() {
    for(var c = document.getElementsByTagName("a"), a = 0;a < c.length;a++) {
    var b = c[a];
    b.getAttribute("href") && b.hostname !== location.hostname && (b.target = "_blank")
    }
}
//open PDF links in a new window
function pdf_new_window ()
{
    if (!document.getElementsByTagName) return false;
    var links = document.getElementsByTagName("a");
    for (var eleLink=0; eleLink < links.length; eleLink ++) {
    if ((links[eleLink].href.indexOf('.pdf') !== -1)||(links[eleLink].href.indexOf('.doc') !== -1)||(links[eleLink].href.indexOf('.docx') !== -1)) {
        links[eleLink].onclick =
        function() {
            window.open(this.href);
            return false;
        }
    }
    }
} 
pdf_new_window()
external_new_window();
</script>
    <style>
.videoWrapper {
	position: relative;
	padding-bottom: 56.333%;
	height: 0;
    background: black;
}
.videoWrapper iframe {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
    border: 0;
}    
</style>

<script>
function get_youtube_id(url) {
    var p = /^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/;
    return (url.match(p)) ? RegExp.$1 : false;
}
function vimeo_embed(url,el) {
    var id = false;
    $.ajax({
      url: 'https://vimeo.com/api/oembed.json?url='+url,
      async: true,
      success: function(response) {
        if(response.video_id) {
          id = response.video_id;
          if(url.indexOf('autoplay=1') !== -1) var autoplay=1; else var autoplay=0;
          if(url.indexOf('loop=1') !== -1) var loop=1; else var loop=0;
          var theInnerHTML = '<div class="videoWrapper"><iframe src="https://player.vimeo.com/video/'+id+'/?byline=0&title=0&portrait=0';
          if(autoplay==1) theInnerHTML += '&autoplay=1';
          if(loop==1) theInnerHTML += '&loop=1';
          theInnerHTML += '" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>'; 
          el.innerHTML = theInnerHTML;
        }
      }
    });
}
function video_embed() {
    var p = document.getElementsByTagName('p');
    for(var i = 0; i < p.length; i++) {
        //check if this is an external url (that starts with https:// or http://
        if (p[i].innerHTML.indexOf("http://") == 0 ||
            p[i].innerHTML.indexOf("https://") == 0) {
            var youtube_id = get_youtube_id(p[i].innerHTML);
            if(youtube_id) {
                if(p[i].innerHTML.indexOf('autoplay=1') !== -1) var autoplay=1; else var autoplay=0;
                if(p[i].innerHTML.indexOf('loop=1') !== -1) var loop=1; else var loop=0;
                var theInnerHTML = '<div class="videoWrapper"><iframe width="720" height="420" src="https://www.youtube.com/embed/' + youtube_id + '?rel=0&showinfo=0';
                if(autoplay==1) theInnerHTML += '&autoplay=1';
                if(loop==1) theInnerHTML += '&loop=1&playlist='+youtube_id+'&version=3';
                theInnerHTML += '" frameborder="0" allowfullscreen></iframe></div>';
                p[i].innerHTML = theInnerHTML;
            }
            if(p[i].innerHTML.indexOf('vimeo.com') !== -1) {
                //ask vimeo for the id and place the embed
                vimeo_embed(p[i].innerHTML,p[i]);
            }
        }
    }
}
video_embed();

function mp3_embed() {
    var p = document.getElementsByTagName('p');
    for(var i = 0; i < p.length; i++) {
        if(p[i].innerHTML.indexOf('.mp3') !== -1) {
            var str = p[i].innerHTML.split('?');
            if(str.length == 1) str[1] = '';
            var str1 = str[1];
            str1 = str1.replace('&','').replace('&','');
            str1 = str1.replace('autoplay=1','').replace('autoplay=0','');
            str1 = str1.replace('loop=1','').replace('loop=0','');
            str1 = str1.replace('controls=0','').replace('controls=1','');

            if (str[0].lastIndexOf('.mp3', str[0].length - 4) === str[0].length - 4 && str1.length == 0) {
                if(str[1].indexOf('autoplay=1') !== -1) var autoplay=1; else var autoplay=0;
                if(str[1].indexOf('loop=1') !== -1) var loop=1; else var loop=0;
                if(str[1].indexOf('controls=0') !== -1) var controls=0; else var controls=1;
                var newInnerHTML = '<audio';
                if(autoplay==1) newInnerHTML += ' autoplay';
                if(loop==1) newInnerHTML += ' loop';
                if(controls==1) newInnerHTML += ' controls';
                newInnerHTML += '><source src="'+str[0]+'" type="audio/mpeg">Your browser does not support the audio element.</audio>';
                p[i].innerHTML = newInnerHTML;
            }
        }
    }
}
mp3_embed();
</script>
  </body>
</html>
