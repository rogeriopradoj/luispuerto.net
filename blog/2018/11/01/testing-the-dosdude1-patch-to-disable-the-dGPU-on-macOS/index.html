<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.15.2 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html -->

<title>Testing the Dosdude1 patch to disable the dGPU on macOS | Luis Puerto</title>
<meta name="description" content="As you know, I have a problem on my vintage MacBook Pro late 2011 related to my dGPU. Basically it died :skull: at the end of 2017. So I have to find a patch to be able to continue use it, and I finally did in this way.">



<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Luis Puerto">
<meta property="og:title" content="Testing the Dosdude1 patch to disable the dGPU on macOS">
<meta property="og:url" content="https://luispuerto.net/blog/2018/11/01/testing-the-dosdude1-patch-to-disable-the-dGPU-on-macOS/">


  <meta property="og:description" content="As you know, I have a problem on my vintage MacBook Pro late 2011 related to my dGPU. Basically it died :skull: at the end of 2017. So I have to find a patch to be able to continue use it, and I finally did in this way.">



  <meta property="og:image" content="https://luispuerto.net/assets/images/blog/2018/grey_screen.jpg">



  <meta name="twitter:site" content="@lpuerto">
  <meta name="twitter:title" content="Testing the Dosdude1 patch to disable the dGPU on macOS">
  <meta name="twitter:description" content="As you know, I have a problem on my vintage MacBook Pro late 2011 related to my dGPU. Basically it died :skull: at the end of 2017. So I have to find a patch to be able to continue use it, and I finally did in this way.">
  <meta name="twitter:url" content="https://luispuerto.net/blog/2018/11/01/testing-the-dosdude1-patch-to-disable-the-dGPU-on-macOS/">

  
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://luispuerto.net/assets/images/blog/2018/grey_screen.jpg">
  

  



  <meta property="article:published_time" content="2018-11-01T00:00:00+00:00">





  

  


<link rel="canonical" href="https://luispuerto.net/blog/2018/11/01/testing-the-dosdude1-patch-to-disable-the-dGPU-on-macOS/">





  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "url": "https://luispuerto.net",
      "logo": "https://luispuerto.net/assets/images/pages/header-splash.jpg"
    }
  </script>



  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": "Luis Puerto",
      "url": "https://luispuerto.net",
      "sameAs": ["https://twitter.com/lpuerto","https://www.linkedin.com/in/lpuerto","https://github.com/luispuerto","https://www.flickr.com/photos/lpuerto"]
    }
  </script>



  <meta name="google-site-verification" content="cZLLZlgNzUnRDZVt90lZpruDWIKI7ccL3GmK4E3hXKI" />





<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Luis Puerto Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if IE ]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- Font Mr. Dafoe for Landing Page -->
<link href="https://fonts.googleapis.com/css?family=Mr+Dafoe" rel="stylesheet">

<!-- Mathjax to show equations from Latex code -->
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
});
</script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">Luis Puerto</a>
        <ul class="visible-links">
<li class="masthead__menu-item">
              <a href="/">Home</a>
            </li>
<li class="masthead__menu-item">
              <a href="/aboutme">About Me</a>
            </li>
<li class="masthead__menu-item">
              <a href="/resume">Résumé</a>
            </li>
<li class="masthead__menu-item">
              <a href="/blog">Blog</a>
            </li>
<li class="masthead__menu-item">
              <a href="/archive">Archive</a>
            </li>
<li class="masthead__menu-item">
              <a href="/contact">Contact</a>
            </li>
</ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      
  

















<div class="page__hero--overlay" style="
          background-image:
            url('/assets/images/blog/2018/grey_screen.jpg');
          ">
  
    <div class="wrapper">
      <h1 id="page-title" class="page__title" itemprop="headline">
        
          Testing the Dosdude1 patch to disable the dGPU on macOS

        
      </h1>
      
      <!-- 
        <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  5 minute read
</p>
       -->
      
      
    </div>
  
  
    <span class="page__hero-caption">Apple grey screen of dead
</span>
  
</div>





<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      

      
        
        <a href="/aboutme/">
          <img src="/assets/images/pages/20121231-035-ol.jpg" alt="Luis Puerto" itemprop="image">
        </a>
      
    </div>
  

  <div class="author__content">
    
      <a href="/aboutme/"><h3 class="author__name" itemprop="name">Luis Puerto</h3></a>
    
    
      <p class="author__bio" itemprop="description">
        Born in Ponferrada, Spain. A Forest Engineer interested in Science and Technology. Fascinated about almost everything
      </p>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name"><img class="emoji" title=":eu:" alt=":eu:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f1ea-1f1fa.png" height="20" width="20"><img class="emoji" title=":es:" alt=":es:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f1ea-1f1f8.png" height="20" width="20"><img class="emoji" title=":sweden:" alt=":sweden:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f1f8-1f1ea.png" height="20" width="20"><img class="emoji" title=":finland:" alt=":finland:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f1eb-1f1ee.png" height="20" width="20"><img class="emoji" title=":us:" alt=":us:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f1fa-1f1f8.png" height="20" width="20"></span>
        </li>
      

      

      

      
        
          
            <li><a href="/aboutme/" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-user-circle" aria-hidden="true"></i> About me</a></li>
          
        
          
            <li><a href="mailto:luis@luispuerto.net" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-envelope" aria-hidden="true"></i> Email</a></li>
          
        
          
            <li><a href="https://twitter.com/lpuerto" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
          
        
          
            <li><a href="https://www.linkedin.com/in/lpuerto" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> LinkedIn</a></li>
          
        
          
            <li><a href="https://github.com/luispuerto" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
          
        
          
            <li><a href="https://instagram.com/lpuerto" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i> Instagram</a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Testing the Dosdude1 patch to disable the dGPU on macOS">
    <meta itemprop="description" content="As you know, I have a problem on my vintage MacBook Pro late 2011 related to my dGPU. Basically it died :skull: at the end of 2017. So I have to find a patch to be able to continue use it, and I finally did in this way.">
    <meta itemprop="datePublished" content="Thursday, 01 November 2018 00:00 UTC">
    

    <div class="page__inner-wrap">
      

      
        <p class="page__meta page__reading_time">
          
          
              <strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Posted:</strong> <time datetime="2018-11-01T00:00:00+00:00">Thursday, 01 November 2018 00:00 UTC</time>
          
          
        
          <strong><i class="far fa-clock" aria-hidden="true"></i></strong> 




  5 minute read

        
        </p>
      

        

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right ">
            <nav class="toc">
              <header><h4 class="nav__title">
<i class="fas fa-laptop-code"></i> On this page</h4></header>
              
              <ul class="toc__menu">
  <li><a href="#what-does-the-patch-do">What does the patch do?</a></li>
  <li><a href="#installing-the-update">Installing the update</a></li>
  <li><a href="#undoing-previous-changes">Undoing previous changes</a></li>
  <li><a href="#applying-the-patch">Applying the patch</a></li>
  <li><a href="#outcome">Outcome</a></li>
  <li>
<a href="#how-to-roll-back-changes">How to roll back changes</a>
    <ul>
      <li><a href="#delete-the-launchdaemon">Delete the LaunchDaemon</a></li>
      <li><a href="#restore-the-kext">Restore the kext</a></li>
      <li><a href="#reapply-the-previous-patch">Reapply the previous patch</a></li>
    </ul>
  </li>
  <li><a href="#bottom-line">Bottom Line</a></li>
</ul>
            </nav>
          </aside>
        
        <div class="post__content">
          <p>As you <a href="/blog/2017/12/05/my-macbook-pro-late-2011s-discrete-graphics-card-said-ciao-again/">know</a>, I have a problem on my <em>vintage</em> MacBook Pro late 2011 related to my dGPU. Basically it died <img class="emoji" title=":skull:" alt=":skull:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f480.png" height="20" width="20"> at the end of 2017. So I have to find a <em>patch</em> to be able to continue use it, and I finally did in <a href="/blog/2017/12/11/disconnecting-the-dgpu-in-a-late-2011-macbook-pro-third-way/">this way</a>.</p>

<p>Yesterday, Apple released a <a href="https://support.apple.com/en-us/HT209193">security update</a> that seems that in some parts is related to the graphic interface of the system, so I definitely was going to reapply the patch after the update —as after every update I usually do. However, recently I discovered <a href="https://twitter.com/dosdude1?lang=en">dosdude1</a> and his <a href="http://dosdude1.com">page</a> where I found out that he has a <a href="http://dosdude1.com/gpudisable/">patch to disable the dGPU on macs like mine</a>. I thought it was a great opportunity to test the patch, since it seems more convenient.</p>

<h2 id="what-does-the-patch-do">What does the patch do?</h2>

<p>I think the best thing is to copy verbatim from the patch itself:</p>

<blockquote>
  <p>This program will disable the dedicated GPU on 15” or 17” MacBook Pro System that have dual video cards installed. After this program has finished running, the following things will be done:</p>

  <ul>
    <li>An NVRAM variable will be set that prevents the machine from using its dedicated video card.</li>
    <li>The video acceleration drivers (kernel extensions) for the respective installed dedicated video card will be removed from the /System/Library/Extensions directory, and backed to up to the root of the hard disk</li>
    <li>A LaunchDaemon will be installed that prevents the video cards drivers from being re-installed during Software Updates, and endures the necessary NVRAM variables is set correctly if PRAM is reset.</li>
  </ul>
</blockquote>

<h2 id="installing-the-update">Installing the update</h2>

<p>The fist thing I did was install the update. I didn’t even follow any of the steps I described <a href="/blog/2017/12/11/disconnecting-the-dgpu-in-a-late-2011-macbook-pro-third-way/#in-case-you-have-to-update">here</a> —I should have— but I just installed the update.</p>

<p>I encounter problems during the update installation. And at some point I have to force quit the computer —pressing the turn-on/off button till the computer shut off— and upon startup press <code class="highlighter-rouge">cmd+s</code> and enter the following in the prompt:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td>
<td class="rouge-code"><pre><span class="nv">$ </span>nvram fa4ce28d-b62f-4c99-9cc3-6815686e30f9:gpu-power-prefs<span class="o">=</span>%01%00%00%00
<span class="nv">$ </span>reboot
</pre></td>
</tr></tbody></table></code></pre></div></div>

<p>After that the update install continue and I was finally able to access to the desktop.</p>

<h2 id="undoing-previous-changes">Undoing previous changes</h2>

<p>Since I wanted to apply to Dosdude1 patch, I thought that it would be wise to undo some of the changes I’ve done in the system go disable the dGPU. There are two main changes I though I should reverted:</p>

<ul>
  <li>
    <p>Disable the <code class="highlighter-rouge">Loginghook</code> we created during <a href="/blog/2017/12/11/disconnecting-the-dgpu-in-a-late-2011-macbook-pro-third-way/#the-fix">the fix</a> —steps 6 to 8:</p>

    <div class="language-shell highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
</pre></td>
<td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">sudo </span>defaults delete com.apple.loginwindow LoginHook
</pre></td>
</tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>
    <p>Restore the <code class="highlighter-rouge">AMDRadeonX3000.kext</code> that we moved during <a href="/blog/2017/12/11/disconnecting-the-dgpu-in-a-late-2011-macbook-pro-third-way/#the-fix">the fix</a> — step 4:</p>

    <div class="language-shell highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
</pre></td>
<td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">sudo cp</span> <span class="nt">-p</span> /System/Library/Extensions-off/AMDRadeonX3000.kext /System/Library/Extensions/
</pre></td>
</tr></tbody></table></code></pre></div>    </div>
  </li>
</ul>

<h2 id="applying-the-patch">Applying the patch</h2>

<p>Well, this is pretty straightforward, isn’t it? You just click on the app and follow the instructions. Take into account that you have to reboot at the end.</p>

<h2 id="outcome">Outcome</h2>

<p>I have to say that the outcome was positive and the computer worked well. However, there was a minor problem that for me was a deal breaker, the computer didn’t woke up from sleep. I tried several times and never ever was able to wake up. I always got a black screen.</p>

<p>I think the reason for this is pretty simple, what the patch is doing is just wiping all the <code class="highlighter-rouge">kext</code> from <code class="highlighter-rouge">/System/Library/Extensions/</code>. Nevertheless, you still need some of them to operate all the functions of the computer and to —I think— really disable the dGPU. I asked about these two problems to <a href="https://twitter.com/dosdude1">@dosdude1</a>, as you can see bellow. You can see there too that the temperature of the “GPU Diode” is still high, which mean the dGPU is still active. I haven’t receive any reply at the moment of writing this post.</p>

<blockquote class="twitter-tweet tw-align-center" data-lang="en">
<p lang="en" dir="ltr"><a href="https://twitter.com/dosdude1?ref_src=twsrc%5Etfw">@dosdude1</a> Hey... I have a question. I've just apply your patch to disable dGPU <a href="https://t.co/xUZakry4d7">https://t.co/xUZakry4d7</a> After it's applied, shouldn't the GPU Diode plumb down like in the image at the bottom of this post? <a href="https://t.co/EM2SBZKSLG">https://t.co/EM2SBZKSLG</a> <br>Thanks for the tool! <a href="https://t.co/BKzOJkbliJ">pic.twitter.com/BKzOJkbliJ</a></p>— Luis Puerto (@lpuerto) <a href="https://twitter.com/lpuerto/status/1057569368014495751?ref_src=twsrc%5Etfw">October 31, 2018</a>
</blockquote>
<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<blockquote class="twitter-tweet tw-align-center" data-lang="en">
<p lang="en" dir="ltr">I can't wake up from sleep... and I can't find the backup files on the root of the hard drive after using your tool</p>— Luis Puerto (@lpuerto) <a href="https://twitter.com/lpuerto/status/1057601068283166720?ref_src=twsrc%5Etfw">October 31, 2018</a>
</blockquote>
<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>As you can see in the thread, at that moment I already wanted to revert changes. Dosdude1 doesn’t provide with a tool to revert changes, or with instructions to do so. The major problem I had at that moment was, I couldn’t find the backup <code class="highlighter-rouge">kext</code> files in the root of my hard drive. I later found out that they are in a hidden folder names <code class="highlighter-rouge">.AMD_Backup</code>. So, I had to pull the backup files from my Time Capsule and apply the security update again —just in case— to reapply my patch to disable the dGPU.</p>

<h2 id="how-to-roll-back-changes">How to roll back changes</h2>

<p>If you want to roll back changes you have to</p>

<h3 id="delete-the-launchdaemon">Delete the LaunchDaemon</h3>

<blockquote>
  <p>A LaunchDaemon will be installed that prevents the video cards drivers from being re-installed during Software Updates, and endures the necessary NVRAM variables is set correctly if PRAM is reset.</p>
</blockquote>

<p>If you don’t delete this LaunchDaemon your <code class="highlighter-rouge">kext</code> are going to be delete after you restore them next time you re/boot. So to delete it you have to run the following command:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
</pre></td>
<td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">sudo rm</span> <span class="nt">-r</span> /Library/LaunchDaemons/com.dosdude1.GPUDisableHelper.plist
</pre></td>
</tr></tbody></table></code></pre></div></div>

<h3 id="restore-the-kext">Restore the kext</h3>

<blockquote>
  <p>The video acceleration drivers (kernel extensions) for the respective installed dedicated video card will be removed from the /System/Library/Extensions directory, and backed to up to the root of the hard disk</p>
</blockquote>

<p>Now, you can restore your <code class="highlighter-rouge">kext</code></p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
</pre></td>
<td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">sudo cp</span> <span class="nt">-p</span> /.AMD_Backup/<span class="k">*</span>.<span class="k">*</span> /System/Library/Extensions/
</pre></td>
</tr></tbody></table></code></pre></div></div>

<p>I would also check the ownership —just in case:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
</pre></td>
<td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">sudo chown</span> <span class="nt">-R</span> root:wheel /System/Library/Extensions/AMD<span class="k">*</span>.<span class="k">*</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>

<h3 id="reapply-the-previous-patch">Reapply the previous patch</h3>

<p>After that, you can reapply the previous patch like it’s explained <a href="/blog/2017/12/11/disconnecting-the-dgpu-in-a-late-2011-macbook-pro-third-way/">here</a>.</p>

<h2 id="bottom-line">Bottom Line</h2>

<p>I wouldn’t say the Dosdude1 patch is bad, but in my case didn’t work as it should, since the wake up didn’t work. I really don’t know if this was due to my previous setup or configuration or if I did miss something on the way, but for me not be able to wake up from sleep isn’t operate normally.</p>

<p>I also think that the patch should be a little bit more documented. There isn’t specific instructions to roll back changes or a tool to <em>uninstall</em> automatically. There isn’t available, or at least I don’t know where it is, the source code of the tool, so you can’t really know what is really going on. It isn’t I don’t trust the <em>dude</em>, but transparency is always appreciated.</p>

<p>Finally, I think that the reason the computer doesn’t wake up is you can’t delete all the kext. The purpose of the patch I’ve <a href="/blog/2017/12/11/disconnecting-the-dgpu-in-a-late-2011-macbook-pro-third-way/">shared</a> —I didn’t created it— if to disable just de dGPU, but still use some of the functions the  kext provide, and for that reason the problematic kext isn’t deleted but moved to another folder, so it isn’t loaded on boot, to later load it manually<sup id="fnref:1"><a href="#fn:1" class="footnote">1</a></sup>. The problem isn’t just the <code class="highlighter-rouge">AMDRadeonX3000.kext</code>, but you need to have all the others to really make it work.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td>
<td class="rouge-code"><pre><span class="nv">$ </span>kextstat | <span class="nb">grep </span>AMD
  114    2 0xffffff7f82d1b000 0x122000   0x122000   com.apple.kext.AMDLegacySupport <span class="o">(</span>1.6.8<span class="o">)</span> 69C5152C-0305-3914-AD56-6601DD449AF4 &lt;103 12 11 7 5 4 3 1&gt;
  133    0 0xffffff7f835f0000 0x12e000   0x12e000   com.apple.kext.AMD6000Controller <span class="o">(</span>1.6.8<span class="o">)</span> F08FE763-26A1-312E-B690-CB8FDBF8EC31 &lt;114 103 12 11 5 4 3 1&gt;
  144    0 0xffffff7f830c3000 0x22000    0x22000    com.apple.kext.AMDLegacyFramebuffer <span class="o">(</span>1.6.8<span class="o">)</span> 13E3BF67-6700-37F0-82EE-E87F8B71A033 &lt;114 103 12 11 7 5 4 3 1&gt;
  169    0 0xffffff7f83a6b000 0x568000   0x568000   com.apple.kext.AMDRadeonX3000 <span class="o">(</span>1.6.8<span class="o">)</span> 8559CEFE-85B8-3FB7-B20A-9346E5A7986A &lt;168 145 103 12 7 5 4 3 1&gt;
</pre></td>
</tr></tbody></table></code></pre></div></div>

<p>For these reasons I still stick to my solution.</p>

<div class="footnotes">
  <ol>
    <li id="fn:1">
      <p>This, as far as I know, also make it possible to total disabling of the dGPU. <a href="#fnref:1" class="reversefootnote">↩</a></p>
    </li>
  </ol>
</div>

        </div>
        
      </section>

      <footer class="page__meta page__meta-footer">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/archive/tags/dgpu" class="page__taxonomy-item" rel="tag">dGPU</a><span class="sep">, </span>
    
      
      
      <a href="/archive/tags/graphic-card" class="page__taxonomy-item" rel="tag">graphic card</a><span class="sep">, </span>
    
      
      
      <a href="/archive/tags/high-sierra" class="page__taxonomy-item" rel="tag">high sierra</a><span class="sep">, </span>
    
      
      
      <a href="/archive/tags/how-to" class="page__taxonomy-item" rel="tag">how to</a><span class="sep">, </span>
    
      
      
      <a href="/archive/tags/macos" class="page__taxonomy-item" rel="tag">macOS</a>
    
    </span>
  </p>




  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/archive/categories/personal" class="page__taxonomy-item" rel="tag">Personal</a><span class="sep">, </span>
    
      
      
      <a href="/archive/categories/technology" class="page__taxonomy-item" rel="tag">Technology</a>
    
    </span>
  </p>


        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Posted:</strong> <time datetime="2018-11-01T00:00:00+00:00">Thursday, 01 November 2018 00:00 UTC</time></p>
        
      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?via=lpuerto&amp;text=Testing+the+Dosdude1+patch+to+disable+the+dGPU+on+macOS%20https%3A%2F%2Fluispuerto.net%2Fblog%2F2018%2F11%2F01%2Ftesting-the-dosdude1-patch-to-disable-the-dGPU-on-macOS%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fluispuerto.net%2Fblog%2F2018%2F11%2F01%2Ftesting-the-dosdude1-patch-to-disable-the-dGPU-on-macOS%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>

  <a href="https://www.reddit.com/submit?url=https%3A%2F%2Fluispuerto.net%2Fblog%2F2018%2F11%2F01%2Ftesting-the-dosdude1-patch-to-disable-the-dGPU-on-macOS%2F&amp;title=Testing%20the%20Dosdude1%20patch%20to%20disable%20the%20dGPU%20on%20macOS" class="btn btn--reddit" title="Share on Reddit"><i class="fab fa-fw fa-reddit" aria-hidden="true"></i><span> Reddit</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fluispuerto.net%2Fblog%2F2018%2F11%2F01%2Ftesting-the-dosdude1-patch-to-disable-the-dGPU-on-macOS%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

</section>


      
  <nav class="pagination">
    
      <a href="/blog/2018/10/18/de-facebooking/" class="pagination--pager" title="De-Facebooking
">Previous</a>
    
    
      <a href="/blog/2018/11/05/cutting-down-the-size-of-your-repo/" class="pagination--pager" title="Cutting ✂️ down the size of your repo
">Next</a>
    
  </nav>

    </div>

    
      <div class="page__comments">
  
  
      <h4 class="page__comments-title">Leave a comment</h4>
      <section id="disqus_thread"></section>
    
</div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You may also enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
      <div class="archive__item-teaser">
          
            <a href="/blog/2019/02/21/no-message-no-connection-in-linkedin/" rel="permalink">
              <img src="/assets/images/blog/2019/linkedin-logo-header.png" alt="">
            </a>
          
      </div>

    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/blog/2019/02/21/no-message-no-connection-in-linkedin/" rel="permalink">No message, no connection in LinkedIn
</a>
      
    </h2>
    
    
      <p class="page__meta">
        
            <i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> <time datetime="2018-11-01T00:00:00+00:00">Thursday, 21 February 2019 21:25 UTC</time>
        
        
          <i class="far fa-clock" aria-hidden="true"></i> 




  4 minute read

        
      </p>
    
    <p class="archive__item-excerpt" itemprop="description">I think this is something that almost anyone with a LinkedIn account has suffered or happened to them… an invitation to connect that comes out of the blue from someone you don’t know. No message, or just the standard message, no explanation, nothing… just an invitation in your LinkedIn inbox from someone, usually with a happy face —maybe a fake ...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
      <div class="archive__item-teaser">
          
            <a href="/blog/2019/02/10/discovering-hypothesis/" rel="permalink">
              <img src="/assets/images/blog/2019/HypothesisBannerGoogleForms.png" alt="">
            </a>
          
      </div>

    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/blog/2019/02/10/discovering-hypothesis/" rel="permalink">Discovering Hypothes.is
</a>
      
    </h2>
    
    
      <p class="page__meta">
        
            <i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> <time datetime="2018-11-01T00:00:00+00:00">Sunday, 10 February 2019 13:15 UTC</time>
        
        
          <i class="far fa-clock" aria-hidden="true"></i> 




  2 minute read

        
      </p>
    
    <p class="archive__item-excerpt" itemprop="description">I just discovered Hypothes.is which is a service to annotate and highlight articles, posts, pdfs or whatever text you want and find all over the web and in any site. In their own words:

</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
      <div class="archive__item-teaser">
          
            <a href="/blog/2019/02/03/what-Ive-been-doing-these-last-years/" rel="permalink">
              <img src="/assets/images/blog/2018/existential-nihilism-header.jpeg" alt="">
            </a>
          
      </div>

    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/blog/2019/02/03/what-Ive-been-doing-these-last-years/" rel="permalink">What have I been doing these last years?
</a>
      
    </h2>
    
    
      <p class="page__meta">
        
            <i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> <time datetime="2018-11-01T00:00:00+00:00">Sunday, 03 February 2019 19:30 UTC</time>
        
        
          <i class="far fa-clock" aria-hidden="true"></i> 




  19 minute read

        
      </p>
    
    <p class="archive__item-excerpt" itemprop="description">Since some people has asked me this once in a while, I think it’s going to be a good idea to write a small0 post about what I’ve been doing these last years since I left Spain. I think I’m going to give it the shape of an informal resume / curriculum where I’m going to talk, superficially, about each of the things I’ve been doing.
</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap">
<div class="search-searchbar"></div>
    <div class="search-hits"></div>
</div>

      </div>
    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->
<!-- Font Academicons -->
<link rel="stylesheet" href="https://cdn.rawgit.com/jpswalsh/academicons/master/css/academicons.min.css">
<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
          <li><a href="https://twitter.com/lpuerto" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://www.linkedin.com/in/lpuerto" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> LinkedIn</a></li>
        
      
        
          <li><a href="https://github.com/luispuerto" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
      
        
      
        
      
    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">© 2019 Luis Puerto |
  
  <a href="https://github.com/luispuerto/luispuerto.net"><i class="fas fa-code" aria-hidden="true"></i> Source Code</a> | 
  
Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.
</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.7.1/js/all.js" integrity="sha384-eVEQC9zshBn0rFj4+TU78eNA19HMNigMviK/PU/FFjLXqa/GKPgX58rvt5Z8PLs7" crossorigin="anonymous"></script>



<!-- Including InstantSearch.js library and styling -->
<script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.3.3/dist/instantsearch.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.3.3/dist/instantsearch.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.3.3/dist/instantsearch-theme-algolia.min.css">

<script>
// Instanciating InstantSearch.js with Algolia credentials
const search = instantsearch({
  appId: 'NSAWFR2G1K',
  apiKey: 'b63bbd39b0bf76207cf9bebdb9c2b7dd',
  indexName: 'luispuerto-net',
  searchParameters: {
    restrictSearchableAttributes: [
      'title',
      'content'
    ]
  }
});

const hitTemplate = function(hit) {
  const url = hit.url;
  const title = hit._highlightResult.title.value;
  const content = hit._highlightResult.html.value;

  return `
    <div class="list__item">
      <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
        <h2 class="archive__item-title" itemprop="headline"><a href="${url}">${title}</a></h2>
        <div class="archive__item-excerpt" itemprop="description">${content}</div>
      </article>
    </div>
  `;
}

// Adding searchbar and results widgets
search.addWidget(
  instantsearch.widgets.searchBox({
    container: '.search-searchbar',
    poweredBy: true,
    placeholder: 'Enter your search term...'
  })
);
search.addWidget(
  instantsearch.widgets.hits({
    container: '.search-hits',
    templates: {
      item: hitTemplate
    }
  })
);

// Starting the search
search.start();
</script>






  <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-1931812-1']);
  
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>





    
  <script>
    var disqus_config = function () {
      this.page.url = "https://luispuerto.net/blog/2018/11/01/testing-the-dosdude1-patch-to-disable-the-dGPU-on-macOS/";  // Replace PAGE_URL with your page's canonical URL variable
      this.page.identifier = "/blog/2018/11/01/testing-the-dosdude1-patch-to-disable-the-dGPU-on-macOS"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    (function() { // DON'T EDIT BELOW THIS LINE
      var d = document, s = d.createElement('script');
      s.src = 'https://luispuerto-net.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>


  



    <script>
//open external links in a new window
function external_new_window() {
    for(var c = document.getElementsByTagName("a"), a = 0;a < c.length;a++) {
    var b = c[a];
    b.getAttribute("href") && b.hostname !== location.hostname && (b.target = "_blank")
    }
}
//open PDF links in a new window
function pdf_new_window ()
{
    if (!document.getElementsByTagName) return false;
    var links = document.getElementsByTagName("a");
    for (var eleLink=0; eleLink < links.length; eleLink ++) {
    if ((links[eleLink].href.indexOf('.pdf') !== -1)||(links[eleLink].href.indexOf('.doc') !== -1)||(links[eleLink].href.indexOf('.docx') !== -1)) {
        links[eleLink].onclick =
        function() {
            window.open(this.href);
            return false;
        }
    }
    }
} 
pdf_new_window()
external_new_window();
</script>
    <style>
.videoWrapper {
	position: relative;
	padding-bottom: 56.333%;
	height: 0;
    background: black;
}
.videoWrapper iframe {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
    border: 0;
}    
</style>

<script>
function get_youtube_id(url) {
    var p = /^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/;
    return (url.match(p)) ? RegExp.$1 : false;
}
function vimeo_embed(url,el) {
    var id = false;
    $.ajax({
      url: 'https://vimeo.com/api/oembed.json?url='+url,
      async: true,
      success: function(response) {
        if(response.video_id) {
          id = response.video_id;
          if(url.indexOf('autoplay=1') !== -1) var autoplay=1; else var autoplay=0;
          if(url.indexOf('loop=1') !== -1) var loop=1; else var loop=0;
          var theInnerHTML = '<div class="videoWrapper"><iframe src="https://player.vimeo.com/video/'+id+'/?byline=0&title=0&portrait=0';
          if(autoplay==1) theInnerHTML += '&autoplay=1';
          if(loop==1) theInnerHTML += '&loop=1';
          theInnerHTML += '" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>'; 
          el.innerHTML = theInnerHTML;
        }
      }
    });
}
function video_embed() {
    var p = document.getElementsByTagName('p');
    for(var i = 0; i < p.length; i++) {
        //check if this is an external url (that starts with https:// or http://
        if (p[i].innerHTML.indexOf("http://") == 0 ||
            p[i].innerHTML.indexOf("https://") == 0) {
            var youtube_id = get_youtube_id(p[i].innerHTML);
            if(youtube_id) {
                if(p[i].innerHTML.indexOf('autoplay=1') !== -1) var autoplay=1; else var autoplay=0;
                if(p[i].innerHTML.indexOf('loop=1') !== -1) var loop=1; else var loop=0;
                var theInnerHTML = '<div class="videoWrapper"><iframe width="720" height="420" src="https://www.youtube.com/embed/' + youtube_id + '?rel=0&showinfo=0';
                if(autoplay==1) theInnerHTML += '&autoplay=1';
                if(loop==1) theInnerHTML += '&loop=1&playlist='+youtube_id+'&version=3';
                theInnerHTML += '" frameborder="0" allowfullscreen></iframe></div>';
                p[i].innerHTML = theInnerHTML;
            }
            if(p[i].innerHTML.indexOf('vimeo.com') !== -1) {
                //ask vimeo for the id and place the embed
                vimeo_embed(p[i].innerHTML,p[i]);
            }
        }
    }
}
video_embed();

function mp3_embed() {
    var p = document.getElementsByTagName('p');
    for(var i = 0; i < p.length; i++) {
        if(p[i].innerHTML.indexOf('.mp3') !== -1) {
            var str = p[i].innerHTML.split('?');
            if(str.length == 1) str[1] = '';
            var str1 = str[1];
            str1 = str1.replace('&','').replace('&','');
            str1 = str1.replace('autoplay=1','').replace('autoplay=0','');
            str1 = str1.replace('loop=1','').replace('loop=0','');
            str1 = str1.replace('controls=0','').replace('controls=1','');

            if (str[0].lastIndexOf('.mp3', str[0].length - 4) === str[0].length - 4 && str1.length == 0) {
                if(str[1].indexOf('autoplay=1') !== -1) var autoplay=1; else var autoplay=0;
                if(str[1].indexOf('loop=1') !== -1) var loop=1; else var loop=0;
                if(str[1].indexOf('controls=0') !== -1) var controls=0; else var controls=1;
                var newInnerHTML = '<audio';
                if(autoplay==1) newInnerHTML += ' autoplay';
                if(loop==1) newInnerHTML += ' loop';
                if(controls==1) newInnerHTML += ' controls';
                newInnerHTML += '><source src="'+str[0]+'" type="audio/mpeg">Your browser does not support the audio element.</audio>';
                p[i].innerHTML = newInnerHTML;
            }
        }
    }
}
mp3_embed();
</script>
  </body>
</html>
